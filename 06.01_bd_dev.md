# Домашнее задание к занятию 1. «Типы и структура СУБД» YundinMS


## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

Ответ: 

- Электронные чеки - для них лучше использовать нереляционную БД, MongoDB - подходит лучше всего, так-как поддерживает работу с JSON, а также содержит поля для индексирования.
- Склады и автомобильные дороги для логистической компании - ЛУчше использовать реляционную модель, хорошим вариантом будет Postgress, так-как будет содержать четкую структуру данных,
еапример склады и водителей, грузов. 
- Генеалогические деревья - наиболее подходящей для данной системы будет граффовые БД, пример Neo4J.
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - лучше всего нереляционная БД, Redis.
- Oтношения клиент-покупка для интернет-магазина - подойдет MongoDB, также поддерживает индексы и JSON.

## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

Ответ: 

- данные записываются на все узлы с задержкой до часа (асинхронная запись) - CAP-СP/ PC/EC
- при сетевых сбоях система может разделиться на 2 раздельных кластера - CAP-AP/ PA/EL
- система может не прислать корректный ответ или сбросить соединение - CAP-CP/ PC/EC

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Ответ: 
- Думаю, что нет, так-как это противоч=речащие друг другу принципы, хотя бизнес не стоит на месте и если условно разделит решение на требующие высокую надежность,
а также не требующих высокую надежность, то в данном вопросе есть вероятность, что все выйдет. 

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора этой системы?

Ответ: Да система ключ-хранилище, ярким представителем данного сегмента являеттся Redis, имеет встроенную функцию, Pub/Sub. Из минусов из коробки не имеет систему управления, то есть 
При выходе Master реплики, придется переключать вручную, а также одноядерность. 

---

